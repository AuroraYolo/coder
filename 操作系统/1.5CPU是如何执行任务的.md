## CPU是如何执行任务的.md

```
CPU 读写数据的时候，并不是按⼀个⼀个字节为单位来进⾏读写，⽽是以 CPU Line ⼤⼩为单位，CPU
Line ⼤⼩⼀般是 64 个字节，也就意味着 CPU 读写数据的时候，每⼀次都是以 64 字节⼤⼩为⼀块进⾏操
作。
因此，如果我们操作的数据是数组，那么访问数组元素的时候，按内存分布的地址顺序进⾏访问，这样能
充分利⽤到 Cache，程序的性能得到提升。但如果操作的数据不是数组，⽽是普通的变量，并在多核 CPU
的情况下，我们还需要避免 Cache Line 伪共享的问题。
所谓的 Cache Line 伪共享问题就是，多个线程同时读写同⼀个 Cache Line 的不同变量时，⽽导致 CPU
Cache 失效的现象。那么对于多个线程共享的热点数据，即经常会修改的数据，应该避免这些数据刚好在
同⼀个 Cache Line 中，避免的⽅式⼀般有 Cache Line ⼤⼩字节对⻬，以及字节填充等⽅法。
系统中需要运⾏的多线程数⼀般都会⼤于 CPU 核⼼，这样就会导致线程排队等待 CPU，这可能会产⽣⼀
定的延时，如果我们的任务对延时容忍度很低，则可以通过⼀些⼈为⼿段⼲预 Linux 的默认调度策略和优
先级。
```
