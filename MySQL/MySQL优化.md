## 常见误区
1.通常来说把可为NULL的列改为NOT NULL不会对性能提升有多少帮助,只是如果计划在列上创建索引,就应该将该列设置为NOT NULL。
2.对整数类型指定宽度,比如INT(11)，没有任何卵用。INT使用32位（4个字节）存储空间，那么它的表示范围已经确定，所以INT(1)和INT(20)对于存储和计算是相同的。
3.UNSIGNED表示不允许负值，大致可以使正数的上限提高一倍。比如TINYINT存储范围是-128 ~ 127，而UNSIGNED TINYINT存储的范围却是0 - 255。
  
4.通常来讲，没有太大的必要使用DECIMAL数据类型。即使是在需要存储财务数据时，仍然可以使用BIGINT。比如需要精确到万分之一，那么可以将数据乘以一百万然后使用BIGINT存储。这样可以避免浮点数计算不准确和DECIMAL精确计算代价高的问题。
  
5.TIMESTAMP使用4个字节存储空间，DATETIME使用8个字节存储空间。因而，TIMESTAMP只能表示1970 - 2038年，比DATETIME表示的范围小得多，而且TIMESTAMP的值因时区不同而不同。
  
 6.大多数情况下没有使用枚举类型的必要，其中一个缺点是枚举的字符串列表是固定的，添加和删除字符串（枚举选项）必须使用ALTER TABLE（如果只只是在列表末尾追加元素，不需要重建表）。
  
 7.schema的列不要太多。原因是存储引擎的API工作时需要在服务器层和存储引擎层之间通过行缓冲格式拷贝数据，然后在服务器层将缓冲内容解码成各个列，这个转换过程的代价是非常高的。如果列太多而实际使用的列又很少的话，有可能会导致CPU占用过高。
  
 8.大表ALTER TABLE非常耗时，MySQL执行大部分修改表结果操作的方法是用新的结构创建一个张空表，从旧表中查出所有的数据插入新表，然后再删除旧表。尤其当内存不足而表又很大，而且还有很大索引的情况下，耗时更久。当然有一些奇技淫巧可以解决这个问题，有兴趣可自行查阅。
 
 ## 总结建议
 1.数据库设计和表创建时要考虑性能.
 2.sql的编写需要注意优化
 3.分区
 4.分表
 5.分库
 
 ## 数据库设计和表创建就要考虑性能
 1.表字段避免null出现,null值很难查询优化且占用额外的索引空间,推荐默认使用0代替null
 2.尽量使用INT而非BIGINT,如果非负加上UNSIGNED,当然能使用TINYINT,SMALLINT,MEDIUM_INT更好.
 3.使用枚举或整数代替字符串类型
 4.尽量使用TIMESTAMP而非DATETIME
 5.单表不要有太多字段
 
 
 ## 索引
 1.根据查询有针对性的创建,考虑在WHERE和ORDER BY命令上涉及的列建立索引,可根据EXPLAIN来查看是否用了索引还是全表扫描.
 2.应尽量避免在WHERE子句中对字段进行NULL值判断,否则导致引擎放弃使用索引而进行全表扫描.
 3.值分布很稀少的字段不适合建索引,例如"性别"这种只有两三个值的字段.
 4.字符字段只建前缀索引.
 5.字符字段最好不要做主键.
 6.不用外键,由程序保证约束.
 7.尽量不要用UNIQUE,由程序保证约束.
 
 ## sql编写优化.
 1.使用limit对查询结果的记录进行限定.
 2.避免select(*),将需要查找的字段列出来.
 3.使用连接(join)来代替子查询
 4.拆分大的delete或insert语句
 5.可通过开启慢查询日志找出慢的SQL
 6.OR改写成IN;OR的效率时N级别,IN的效率时log(n)级别,in的个数建议控制在200以内
 7.避免使用%xxx查询.
 8.使用同类型比较.123和123比
 9.尽量避免在WHERE子句中使用!=或<>操作符,否则引擎放弃索引使用全表扫描
 10.对于联系数值,使用BETWEEN不要IN.SELECT id FROM t WHERE num BETWEEN 1 AND 5
 11.列表数据不要拿全表，要使用LIMIT来分页，每页数量也不要太大
 ## 引擎
 MyISAM
 MyISAM引擎是MySQL 5.1及之前版本的默认引擎，它的特点是：
 1.不支持行锁，读取时对需要读到的所有表加锁，写入时则对表加排它锁
 2.不支持事务
 3.不支持外键
 4.不支持崩溃后的安全恢复5.在表有读取查询的同时，支持往表中插入新纪录6.支持BLOB和TEXT的前500个字符索引，支持全文索引7.支持延迟更新索引，极大提升写入性能8.对于不会进行修改的表，支持压缩表，极大减少磁盘空间占用
 InnoDB
 InnoDB在MySQL 5.5后成为默认索引，它的特点是：
 1.支持行锁，采用MVCC来支持高并发
 2.支持事务
 3.支持外键
 4.支持崩溃后的安全恢复
 5.不支持全文索引总体来讲，MyISAM适合SELECT密集型的表，而InnoDB适合INSERT和UPDATE密集型的表
 
